import{d as I,_ as U,c as i,o as r,a as t,n as V,F as b,h as w,f as y,b as m,u as f,I as v,e as d,w as c,v as h,l as N,k}from"./index-c2tK1utv.js";const _=I({props:{item:{type:Object,required:!0},index:{type:Number,required:!0},subIndex:{type:Number||null,default:null},type:{type:String,required:!0},rounded:{type:Boolean,default:!1},uploadImage:{type:Function,required:!0}}}),P=["src","alt"];function S(a,e,s,n,l,u){return r(),i(b,null,[t("img",{src:a.item.image,class:V(["image",{rounded:a.rounded}]),alt:a.item.name},null,10,P),t("input",{style:{"padding-block":"1rem"},type:"file",accept:"image/jpeg",onChange:e[0]||(e[0]=o=>a.uploadImage(o,a.type,a.index,a.subIndex))},null,32)],64)}const $=U(_,[["render",S],["__scopeId","data-v-afc40473"]]),C={class:"wrapper"},O={key:0,class:"tab-buttons"},J=["onClick"],T={key:1,class:"btn-container"},M={key:2,style:{width:"100%"}},A={class:"title"},D={class:"partners-list"},E={class:"details"},B=["onUpdate:modelValue"],F=["onUpdate:modelValue"],L={key:3,style:{width:"100%"}},R={class:"title"},q=["onUpdate:modelValue"],j=["onUpdate:modelValue"],z={class:"title"},Y={style:{"font-weight":"bold"}},G={class:"details"},H=["onUpdate:modelValue"],K={class:"details"},Q=["onUpdate:modelValue"],W={key:4,style:{width:"100%"}},X={class:"title"},Z={class:"details"},x=["onUpdate:modelValue"],ee=["onUpdate:modelValue"],te={name:"imageUpload",data(){const{partners:a,products:e,members:s}=k();return{currentTab:"",newPartners:JSON.parse(JSON.stringify(a)),newProducts:JSON.parse(JSON.stringify(e)),newMembers:JSON.parse(JSON.stringify(s)),previewImage:""}},methods:{uploadImage(a,e,s,n){const l=a.target;if(!l||!l.files||l.files.length===0)return;const u=l.files[0],o=new FileReader;o.readAsDataURL(u),o.onload=p=>{var g;(g=p.target)!=null&&g.result&&(e==="partners"?this.newPartners[s].image=p.target.result:e==="products"?typeof n=="number"&&(this.newProducts[s].images[n].image=p.target.result):e==="members"&&(this.newMembers[s].image=p.target.result))}},goBack(){window.confirm("Are you sure you want to leave this page? Any unsaved changes will be lost.")&&(this.currentTab="",this.refetch())},refetch(){const{partners:a,products:e,members:s}=k();this.newMembers=JSON.parse(JSON.stringify(s)),this.newPartners=JSON.parse(JSON.stringify(a)),this.newProducts=JSON.parse(JSON.stringify(e))},add(a){a==="partners"?this.newPartners.push({image:"",name:"",href:""}):a==="products"?this.newProducts.push({id:(this.newProducts.length+1).toString(),name:"",featured:!1,images:[{image:"",name:"",link:""}]}):a==="members"&&this.newMembers.push({image:"",name:"",position:""}),this.$forceUpdate()},saveData(a){console.log("Saving data...",a);const e=k();if(a==="products"){if(this.newProducts.filter(s=>s.featured).length!=1){window.confirm("Error: You have not selected just one featured product.");return}e.$patch({products:this.newProducts})}else a==="partners"?e.$patch({partners:this.newPartners}):a==="members"&&e.$patch({members:this.newMembers});this.refetch()}},beforeRouteLeave:function(a,e,s){window.confirm("Are you sure you want to leave this page? Any unsaved changes will be lost.")?s():s(!1)}},ne=I({...te,setup(a){return(e,s)=>(r(),i("div",C,[e.currentTab==""?(r(),i("div",O,[(r(),i(b,null,y(["partners","products","members"],n=>t("button",{key:n,onClick:l=>e.currentTab=n,class:"tab-btn"},d(n.charAt(0).toUpperCase()+n.slice(1)),9,J)),64))])):w("",!0),e.currentTab!==""?(r(),i("div",T,[m(f(v),{class:"icon-btn",icon:"mingcute:back-2-fill",onClick:e.goBack},null,8,["onClick"]),m(f(v),{icon:"mingcute:save-2-fill",class:"icon-btn",onClick:s[0]||(s[0]=n=>e.saveData(e.currentTab))})])):w("",!0),e.currentTab==="partners"?(r(),i("div",M,[t("div",A,[s[4]||(s[4]=t("h2",null,"Partners",-1)),m(f(v),{icon:"mingcute:add-fill",class:"icon-btn",onClick:s[1]||(s[1]=n=>e.add("partners"))})]),t("div",D,[(r(!0),i(b,null,y(e.newPartners.slice().reverse(),(n,l)=>(r(),i("div",{key:l,class:"item"},[t("h4",null,d(e.$t("Item")+(l+1)),1),m($,{item:n,index:e.newPartners.length-1-l,type:"partners",uploadImage:e.uploadImage},null,8,["item","index","uploadImage"]),t("div",E,[t("div",null,[t("span",null,d(e.$t("Alt Text"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":u=>n.name=u,placeholder:"Enter alt text for the image"},null,8,B),[[h,n.name]])]),t("div",null,[t("span",null,d(e.$t("URL"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":u=>n.href=u,placeholder:"Enter URL for the image"},null,8,F),[[h,n.href]])])])]))),128))])])):w("",!0),e.currentTab==="products"?(r(),i("div",L,[t("div",R,[s[5]||(s[5]=t("h2",null,"Products",-1)),m(f(v),{icon:"mingcute:add-fill",class:"icon-btn",onClick:s[2]||(s[2]=n=>e.add("products"))})]),(r(!0),i(b,null,y(e.newProducts.slice().reverse(),(n,l)=>{var u;return r(),i("div",{key:l,class:"item"},[t("h4",null,d(e.$t("ID")+": "+n.id),1),t("div",null,[t("span",null,d(e.$t("Name"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":o=>n.name=o,placeholder:"Enter name for product"},null,8,q),[[h,n.name]])]),t("div",null,[t("span",null,d(e.$t("Featured"))+": ",1),c(t("input",{type:"checkbox","onUpdate:modelValue":o=>n.featured=o},null,8,j),[[N,n.featured]])]),t("div",null,[t("div",z,[t("span",null,d(e.$t("Images"))+": ",1),m(f(v),{style:{height:"1.2rem"},icon:"mingcute:add-fill",class:"icon-btn",onClick:o=>n.images.push({image:"",name:"",link:""})},null,8,["onClick"])]),(r(!0),i(b,null,y((u=n.images)==null?void 0:u.slice().reverse(),(o,p)=>(r(),i("div",{key:p,style:{"margin-left":"1rem"}},[t("p",Y,d(e.$t("Image")+(p+1)),1),m($,{item:o,index:n.images.length-1-l,subIndex:n.images.length-1-p,type:"products",uploadImage:e.uploadImage},null,8,["item","index","subIndex","uploadImage"]),t("div",G,[t("span",null,d(e.$t("Image name"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":g=>o.name=g,placeholder:"Image name",style:{"margin-left":"0.5rem"}},null,8,H),[[h,o.name]])]),t("div",K,[t("span",null,d(e.$t("Image link"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":g=>o.link=g,placeholder:"Image link",style:{"margin-left":"0.5rem"}},null,8,Q),[[h,o.link]])])]))),128))])])}),128))])):w("",!0),e.currentTab==="members"?(r(),i("div",W,[t("div",X,[s[6]||(s[6]=t("h2",null,"Members",-1)),m(f(v),{icon:"mingcute:add-fill",class:"icon-btn",onClick:s[3]||(s[3]=n=>e.add("members"))})]),(r(!0),i(b,null,y(e.newMembers.slice().reverse(),(n,l)=>(r(),i("div",{key:l,class:"item"},[t("h4",null,d(e.$t("Item")+(l+1)),1),m($,{item:n,index:e.newMembers.length-1-l,type:"members",uploadImage:e.uploadImage,rounded:""},null,8,["item","index","uploadImage"]),t("div",Z,[t("div",null,[t("span",null,d(e.$t("Name"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":u=>n.name=u,placeholder:"Enter name for member"},null,8,x),[[h,n.name]])]),t("div",null,[t("span",null,d(e.$t("Position"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":u=>n.position=u,placeholder:"Enter position for member"},null,8,ee),[[h,n.position]])])])]))),128))])):w("",!0)]))}}),ae=U(ne,[["__scopeId","data-v-1ad99390"]]);export{ae as default};
