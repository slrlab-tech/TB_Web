import{d as I,_ as $,c as i,o as r,a as t,n as U,F as v,h as y,f as b,b as u,u as f,I as h,e as d,w as c,v as g,l as _,k as V}from"./index-Dbp1LAA1.js";const N=I({props:{item:{type:Object,required:!0},index:{type:Number,required:!0},subIndex:{type:Number||null,default:null},type:{type:String,required:!0},rounded:{type:Boolean,default:!1},uploadImage:{type:Function,required:!0}}}),S=["src","alt"];function C(a,e,s,n,o,l){return r(),i(v,null,[t("img",{src:a.item.image,class:U(["image",{rounded:a.rounded}]),alt:a.item.name},null,10,S),t("input",{style:{"padding-block":"1rem"},type:"file",accept:"image/jpeg",onChange:e[0]||(e[0]=m=>a.uploadImage(m,a.type,a.index,a.subIndex))},null,32)],64)}const w=$(N,[["render",C],["__scopeId","data-v-4cc89edd"]]),P={class:"wrapper"},O={key:0,class:"tab-buttons"},J=["onClick"],T={key:1,class:"btn-container"},A={key:2,style:{width:"100%"}},M={class:"title"},D={class:"partners-list"},E={class:"details"},B=["onUpdate:modelValue"],F=["onUpdate:modelValue"],L={key:3,style:{width:"100%"}},R={class:"title"},q=["onUpdate:modelValue"],j=["onUpdate:modelValue"],z={class:"title"},Y={style:{"font-weight":"bold"}},G={class:"details"},H=["onUpdate:modelValue"],K={class:"details"},Q=["onUpdate:modelValue"],W={key:4,style:{width:"100%"}},X={class:"title"},Z={class:"details"},x=["onUpdate:modelValue"],ee=["onUpdate:modelValue"],te={name:"imageUpload",data(){const{partners:a,products:e,members:s}=V();return{currentTab:"",data:{partners:a,products:e,members:s},newPartners:JSON.parse(JSON.stringify(a)),newProducts:JSON.parse(JSON.stringify(e)),newMembers:JSON.parse(JSON.stringify(s)),previewImage:""}},methods:{uploadImage(a,e,s,n){const o=a.target;if(!o||!o.files||o.files.length===0)return;const l=o.files[0],m=new FileReader;m.readAsDataURL(l),m.onload=p=>{var k;(k=p.target)!=null&&k.result&&(e==="partners"?this.newPartners[s].image=p.target.result:e==="products"?typeof n=="number"&&(this.newProducts[s].images[n].image=p.target.result):e==="members"&&(this.newMembers[s].image=p.target.result))}},goBack(){window.confirm("Are you sure you want to leave this page? Any unsaved changes will be lost.")&&(this.currentTab="",this.newMembers=JSON.parse(JSON.stringify(this.data.members)),this.newPartners=JSON.parse(JSON.stringify(this.data.partners)),this.newProducts=JSON.parse(JSON.stringify(this.data.products)))},add(a){a==="partners"?this.newPartners.push({image:"",name:"",href:""}):a==="products"?this.newProducts.push({id:(this.newProducts.length+1).toString(),name:"",featured:!1,images:[{image:"",name:"",link:""}]}):a==="members"&&this.newMembers.push({image:"",name:"",position:""}),this.$forceUpdate()},saveData(a){if(console.log("Saving data...",a),a==="products"&&this.newProducts.filter(e=>e.featured).length!=1){window.confirm("Error: You have not selected just one featured product.");return}}},beforeRouteLeave:function(a,e,s){window.confirm("Are you sure you want to leave this page? Any unsaved changes will be lost.")?s():s(!1)}},ne=I({...te,setup(a){return(e,s)=>(r(),i("div",P,[e.currentTab==""?(r(),i("div",O,[(r(),i(v,null,b(["partners","products","members"],n=>t("button",{key:n,onClick:o=>e.currentTab=n,class:"tab-btn"},d(n.charAt(0).toUpperCase()+n.slice(1)),9,J)),64))])):y("",!0),e.currentTab!==""?(r(),i("div",T,[u(f(h),{class:"icon-btn",icon:"mingcute:back-2-fill",onClick:e.goBack},null,8,["onClick"]),u(f(h),{icon:"mingcute:save-2-fill",class:"icon-btn",onClick:s[0]||(s[0]=n=>e.saveData(e.currentTab))})])):y("",!0),e.currentTab==="partners"?(r(),i("div",A,[t("div",M,[s[4]||(s[4]=t("h2",null,"Partners",-1)),u(f(h),{icon:"mingcute:add-fill",class:"icon-btn",onClick:s[1]||(s[1]=n=>e.add("partners"))})]),t("div",D,[(r(!0),i(v,null,b(e.newPartners.slice().reverse(),(n,o)=>(r(),i("div",{key:o,class:"item"},[t("h4",null,d(e.$t("Item")+(o+1)),1),u(w,{item:n,index:o,type:"partners",uploadImage:e.uploadImage},null,8,["item","index","uploadImage"]),t("div",E,[t("div",null,[t("span",null,d(e.$t("Alt Text"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":l=>n.name=l,placeholder:"Enter alt text for the image"},null,8,B),[[g,n.name]])]),t("div",null,[t("span",null,d(e.$t("URL"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":l=>n.href=l,placeholder:"Enter URL for the image"},null,8,F),[[g,n.href]])])])]))),128))])])):y("",!0),e.currentTab==="products"?(r(),i("div",L,[t("div",R,[s[5]||(s[5]=t("h2",null,"Products",-1)),u(f(h),{icon:"mingcute:add-fill",class:"icon-btn",onClick:s[2]||(s[2]=n=>e.add("products"))})]),(r(!0),i(v,null,b(e.newProducts.slice().reverse(),(n,o)=>(r(),i("div",{key:o,class:"item"},[t("h4",null,d(e.$t("ID")+": "+n.id),1),t("div",null,[t("span",null,d(e.$t("Name"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":l=>n.name=l,placeholder:"Enter name for product"},null,8,q),[[g,n.name]])]),t("div",null,[t("span",null,d(e.$t("Featured"))+": ",1),c(t("input",{type:"checkbox","onUpdate:modelValue":l=>n.featured=l},null,8,j),[[_,n.featured]])]),t("div",null,[t("div",z,[t("span",null,d(e.$t("Images"))+": ",1),u(f(h),{style:{height:"1.2rem"},icon:"mingcute:add-fill",class:"icon-btn",onClick:l=>n.images.push({image:"",name:"",link:""})},null,8,["onClick"])]),(r(!0),i(v,null,b(n.images.slice().reverse(),(l,m)=>(r(),i("div",{key:m,style:{"margin-left":"1rem"}},[t("p",Y,d(e.$t("Image")+(m+1)),1),u(w,{item:l,index:o,subIndex:m,type:"products",uploadImage:e.uploadImage},null,8,["item","index","subIndex","uploadImage"]),t("div",G,[t("span",null,d(e.$t("Image name"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":p=>l.name=p,placeholder:"Image name",style:{"margin-left":"0.5rem"}},null,8,H),[[g,l.name]])]),t("div",K,[t("span",null,d(e.$t("Image link"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":p=>l.link=p,placeholder:"Image link",style:{"margin-left":"0.5rem"}},null,8,Q),[[g,l.link]])])]))),128))])]))),128))])):y("",!0),e.currentTab==="members"?(r(),i("div",W,[t("div",X,[s[6]||(s[6]=t("h2",null,"Members",-1)),u(f(h),{icon:"mingcute:add-fill",class:"icon-btn",onClick:s[3]||(s[3]=n=>e.add("members"))})]),(r(!0),i(v,null,b(e.newMembers.slice().reverse(),(n,o)=>(r(),i("div",{key:o,class:"item"},[t("h4",null,d(e.$t("Item")+(o+1)),1),u(w,{item:n,index:o,type:"members",uploadImage:e.uploadImage,rounded:""},null,8,["item","index","uploadImage"]),t("div",Z,[t("div",null,[t("span",null,d(e.$t("Name"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":l=>n.name=l,placeholder:"Enter name for member"},null,8,x),[[g,n.name]])]),t("div",null,[t("span",null,d(e.$t("Position"))+": ",1),c(t("input",{type:"text","onUpdate:modelValue":l=>n.position=l,placeholder:"Enter position for member"},null,8,ee),[[g,n.position]])])])]))),128))])):y("",!0)]))}}),ae=$(ne,[["__scopeId","data-v-400827a9"]]);export{ae as default};
